"use strict";(self.webpackChunkpixlee_photos=self.webpackChunkpixlee_photos||[]).push([[9919],{59919:(t,i,e)=>{e.r(i);var s=e(27484),n=e.n(s),o=e(26978),a=e(54821).Z;Pixlee.module("Concerns",(function(t,i,e,s,l){var r={setDisplayOptions:function(){this.displayOptions||(this.displayOptions=i.displayOptions.toJSON())},userVotedSet:function(){var t=this.album_id+"_"+this.album_photo_id,i=a.contains(l.cookie("pixlee_likes"),t),e=a.contains(l.cookie("pixlee_likes_legacy"),t);return i||e},getActionLink:function(){return this.setDisplayOptions(),a.isFalsy(this.richAction)||a.isFalsy(this.richAction.link)?a.isFalsy(this.action_link)?a.isFalsy(gon.current_album.action_link)?a.isFalsy(gon.display_options.customCallToActionLink)?"":gon.display_options.customCallToActionLink:gon.current_album.action_link:this.action_link:this.richAction.link},getVotedText:function(){return a.isFalsy(gon.display_options.customVotedText)?"voted":gon.display_options.customVotedText},getActionText:function(){return this.setDisplayOptions(),a.isFalsy(this.richAction)||a.isFalsy(this.richAction.action_link_text)?a.isFalsy(this.action_link_text)?a.isFalsy(gon.current_album.action_link_text)?a.isFalsy(gon.display_options.customCallToActionText)?"":gon.display_options.customCallToActionText:gon.current_album.action_link_text:this.action_link_text:this.richAction.action_link_text},hasActionLink:function(){return this.setDisplayOptions(),553!==gon.current_account.id&&(!!i.currentUser.canAccess("ecomm")||(!a.isFalsy(this.action_link_title)&&!a.isFalsy(this.action_link_photo)||(!!gon.display_options.customCallToActionPhoto||(!(!this.displayOptions.showCallToAction||a.isFalsy(this.displayOptions.customCallToActionText)||a.isFalsy(this.displayOptions.customCallToActionLink))||(!(a.isFalsy(this.action_link_text)||a.isFalsy(this.action_link)||!gon.display_options.showCallToAction)||(!a.isFalsy(this.action_link)||!a.isFalsy(gon.current_album.action_link)))))))},showCommunityBadge:function(){return a.some(this.categories,(function(t){return"community"===t.toLowerCase()}))&&gon.display_options.showCommunityBadge},submitterType:function(){return a.isFalsy(this.source)?"desktop":this.source},contentSourceClass:function(){return this.showCommunityBadge()?"community":this.submitterType()},getPlatformLink:function(){return"instagram"===this.submitterType()&&this.platform_link?"/"===this.platform_link.slice(-1)?this.platform_link:this.platform_link+"/":this.platform_link},submitterAnchor:function(t){switch(this.submitterType()){case"instagram":var i="",e=(this.submitter().replace("@",""),"@"+this.submitter().replace("@","")),s="";if(this.connected_user_id)i="image"!==this.content_type&&this.content_type?"instagram_video handle":"instagram handle";else{e=t?"Instagram User":'<i class="fas fa-user-circle"></i><span>Unknown User</span>',i="instagram handle anonymous_instagram tooltip_component",s='data-tooltip-text="Instagram\u2019s API does not provide user information for content collected via hashtag."'}return'<a class="'+i+'" href="'+this.getPlatformLink()+'" target="_blank"'+s+">"+e+"</a>";case"twitter":return"image"!==this.content_type&&this.content_type?a.isFalsy(this.platform_link)?'<a class="vine handle">'+this.submitter()+"</a>":'<a class="vine handle" href="'+this.platform_link+'" target="_blank">@'+this.submitter().replace("@","")+"</a>":a.isFalsy(this.platform_link)?'<a class="twitter handle" href="http://twitter.com/'+this.submitter().replace("@","")+'" target="_blank">@'+this.submitter().replace("@","")+"</a>":'<a class="twitter handle" href="'+this.platform_link+'" target="_blank">@'+this.submitter().replace("@","")+"</a>";case"website":return'<a class="website handle">'+this.submitter()+"</a>";case"facebook":return'<a class="facebook handle">'+this.submitter()+"</a>";case"email":return t?'<a class="email handle" ></a>':'<a class="email handle">'+this.submitter()+"</a>";case"desktop":return'<a class="email handle">'+this.submitter()+"</a>";case"twitch":case"tiktok":return'<a class="'+this.submitterType()+' handle" href="'+this.platform_link+'" target="_blank">'+this.submitter()+"</a>";default:return'<a class="submitted_by_you handle">'+this.submitter(t)+"</a>"}},submitter:function(){return null!=this.user_name?(0,o.escapeHtml)(this.user_name):null==this.email_address||i.isWidget?"":(0,o.escapeHtml)(this.email_address)},getTitle:function(){return this.title&&"null"!==this.title?this.title:this.album_title&&"null"!==this.album_title?this.album_title:this.photo_title&&"null"!==this.photo_title?this.photo_title:""},altText:function(){var t="";if(a.isFalsy(this.alt_text))try{a.isFalsy(this.submitter())?(t+="Photo submission ",a.isFalsy(this.submitterType)||(t+="to "+(0,o.escapeHtml)(this.submitterType())+" ")):(t+="Photo taken by "+(0,o.escapeHtml)(this.submitter())+" ",a.isFalsy(this.submitterType)||(t+="on "+(0,o.escapeHtml)(this.submitterType())+" ")),a.isFalsy(this.getTitle())||(t+=" with the caption of: "+(0,o.escapeHtml)(this.getTitle())+".")}catch(i){t=""}else t=this.alt_text;return(0,o.escapeHtml)(t)},uploaderAdditionalFields:function(){var t=this.uploader_additional_fields,i="";return a.isEmpty(t)||a.each(t,(function(t,e){e=e.split(" ")[0],i+='<div class="additional_upload_info '+e+'">'+t+"</div>"})),i},photoURL:function(t){if(null!=this.data_file_name)return this.photoFileURL(t);switch(this.submitterType()){case"instagram":if("image"!==this.content_type&&this.content_type){if("video"===this.content_type)return this.thumbnail_url.replace("http://","https://")}else if(null!=this.source_url)return this.source_url.replace("http://","https://");break;case"facebook":case"website":case"email":case"desktop":default:if(null!=this.source_url)return this.source_url.replace("http://","https://");break;case"twitter":if("image"!==this.content_type&&this.content_type){if("video"===this.content_type)return this.thumbnail_url.replace("http://","https://")}else if(null!=this.source_url)return this.source_url.replace("http://","https://")}return""},getThumbnailPhotoURL:function(){if("video"===this.content_type)return this.thumbnail_url;var t=this.id||this.photo_id,e=this.data_file_name,s=i.reqres.request("encode:utf8",e),n="https://static.pxlecdn.com",o=this.approved?"/thumb/":"/original/";if(this.config&&"development"===this.config.env){n="http://s3.amazonaws.com/pixlee-dev"}return n+"/photos/"+t+o+s},photoFileURL:function(t){t=t||"medium";var e=this.id||this.photo_id,s=this.data_file_name,n=i.reqres.request("encode:utf8",s),o="https://static.pxlecdn.com";if(this.config&&"development"===this.config.env){o="http://s3.amazonaws.com/pixlee-dev"}return o+"/photos/"+e+"/"+t+"/"+n},dedicatedLink:function(){return gon.global.pixleePhotosServer+this.currentUser.id+"/"+this.album_id+"/"+this.album_photo_id},dedicatedPath:function(){return"/"+this.currentUser.id+"/"+this.album_id+"/"+this.album_photo_id},videoURL:function(){return this.source_url.replace("http://","https://")},isVideo:function(){return"video"===this.content_type},isStory:function(){return"instagram_story"===this.subtype},shouldShowCaptions:function(){return!0},getCustomVideoThumbnail:function(){var t=this.video_settings||{};return!a.isEmpty(t)&&a.isTruthy(t.thumbnail_url)?t.thumbnail_url.replace("http://","https://"):null},thumbnail:function(t){var i=this.getCustomVideoThumbnail();return i||(this.data_file_name&&(this.approved||this.resized)?this.photoFileURL(t):(this.medium_url||this.thumbnail_url||this.source_url||"").replace("http://","https://")||this.photoFileURL(t))},showDate:function(){return!!gon.display_options.showTimestampsOnPhotowall},getDate:function(){return n()(this.tagged_at).format("MM/DD/YYYY")},getCaption:function(){return this.caption||""},getUploaderProductInput:function(){return this.uploader_product_input||""},requiredCaptions:function(){return a.isTruthy(i.displayOptions.get("requiredCaptions"))},isDefaultCaptionPlaceholder:function(){return i.displayOptions.get("captionPlaceholder")===I18n.translations.en.uploader.review_submission.caption_placeholder},captionPlaceholder:function(){return i.displayOptions.get("captionPlaceholder")||"Write a caption..."},isDefaultProductPlaceholder:function(){return i.displayOptions.get("productFieldName").toUpperCase()+" "+i.displayOptions.get("productFieldPlaceholder")===I18n.translations.en.uploader.review_submission.product_placeholder},productFieldEnabled:function(){return i.displayOptions.get("enableProductField")},productPlaceholder:function(){return(i.displayOptions.get("productFieldName").toUpperCase()||"PRODUCT:")+" "+(i.displayOptions.get("productFieldPlaceholder")||"Adding the product name, URL or location helps with getting your content featured!")},decode_utf8:function(t){return i.request("decode:untrusted:input",t)},shouldShowProductBadges:function(){return!this.isPartOfCampaign()&&this.hasProducts()&&!!gon.display_options.productBadgeLayout},isPartOfCampaign:function(){return gon.current_album.campaign},hasProducts:function(){return this.products&&this.products.length>0},getProductBadgeClasses:function(){return{black_bg_white_solid:"circle_icon white filled_bag",white_solid:"white filled_bag black_shadow",black_solid:"black filled_bag white_shadow",black_bg_white_outline:"circle_icon white regular_bag",black_bg_white_light:"circle_icon white light_bag",black_outline:"black regular_bag",black_light:"black light_bag"}[gon.display_options.productBadgeLayout]||""},showIncentivizedBadge:function(){return a.some(this.categories,(function(t){return"incentivized"===t.toLowerCase()}))&&gon.display_options.showIncentivizedBadge},getPhotoQuality:function(t){var i=gon.display_options.photoQuality;return a.contains(["medium","xl","original"],i)?i:t}};t.PhotoViewHelpers={templateHelpers:r},t.PhotoHelpers=r}))}}]);
//# sourceMappingURL=9919-fae827d52b1b3962e528.js.map